<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>NexusChat</title>
    <link rel="stylesheet" href="src/style.css" />
    <link rel="icon" type="image/png" href="static/favicon.png" />
  </head>
  <body>
    <div class="header-container">
      <div class="logo-section">
        <h1 id="title">Nexus Chat</h1>
        <span class="subtitle">Next-Gen AI Conversations</span>
      </div>
      <div class="controls" role="toolbar" aria-label="Editor controls">
        <div class="control-group">
          <button id="template-btn" aria-label="Load template" class="icon-button">
            <span aria-hidden="true">📑</span> Templates
          </button>
          <button id="theme-btn" aria-label="Switch theme" class="icon-button">
            <span aria-hidden="true">🎨</span> Theme
          </button>
          <button id="config-btn" aria-label="Configure settings" class="icon-button">
            <span aria-hidden="true">⚙️</span> Config
          </button>
        </div>
        <div class="control-group">
          <button id="save-btn" aria-label="Save conversation" class="icon-button">
            <span aria-hidden="true">💾</span> Save
          </button>
          <button id="export-btn" aria-label="Export conversation" class="icon-button">
            <span aria-hidden="true">📤</span> Export
          </button>
          <button id="load-btn" aria-label="Load conversation" class="icon-button">
            <span aria-hidden="true">📂</span> Load
          </button>
          <button id="reset-btn" aria-label="Reset conversation" class="icon-button warning">
            <span aria-hidden="true">🔄</span> Reset
          </button>
        </div>
        <div id="config-popup" class="popup-container" style="display: none;" role="dialog" aria-labelledby="settings-title">
          <div class="popup-content">
            <h2 id="settings-title">Settings</h2>
            <div class="popup-body">
              <div class="input-group">
                <label for="provider-input">Provider:</label>
                <input type="text" id="provider-input" aria-describedby="provider-hint" />
                <small id="provider-hint">Available: openai, anthropic, gemini</small>
              </div>
              <div class="input-group">
                <label for="model-input">LLM Model:</label>
                <input type="text" id="model-input" aria-describedby="model-hint" />
                <small id="model-hint">Example: gpt-4, claude-2, gemini-pro</small>
              </div>
            </div>
            <div class="popup-footer">
              <button id="popup-save-btn" class="primary">Save</button>
              <button id="popup-cancel-btn">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <main role="main">
      <div class="sidebar" id="template-sidebar">
        <h3>Templates</h3>
        <div class="template-list">
          <button class="template-item" data-template="assistant">
            <span>📝 Basic Assistant</span>
          </button>
          <button class="template-item" data-template="coder">
            <span>💻 Code Assistant</span>
          </button>
          <button class="template-item" data-template="writer">
            <span>✍️ Writing Assistant</span>
          </button>
          <button class="template-item" data-template="analyst">
            <span>📊 Data Analyst</span>
          </button>
        </div>
      </div>
      <div class="editor-container">
        <div id="editor" contenteditable="true" role="textbox" aria-label="Conversation editor">@system: You are a helpful assistant.

@user: </div>
        <div class="status-bar">
          <div class="status-left">
            <span id="char-count">Characters: 0</span>
            <span id="word-count">Words: 0</span>
          </div>
          <div class="status-right">
            <span id="provider-status">Provider: Not Set</span>
            <span id="model-status">Model: Not Set</span>
          </div>
        </div>
      </div>
      <div class="history-panel" id="history-panel">
        <h3>Message History</h3>
        <div class="history-list" id="history-list">
          <!-- Messages will be added here dynamically -->
        </div>
      </div>
    </main>
    <div id="toast" class="toast" role="alert" aria-hidden="true"></div>

    <script type="module" src="src/main.js"></script>
  </body>
</html> 